{"ast":null,"code":"import { FeatureType, FeatureLabel } from '../models/feature-types';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction DataViewerComponent_h4_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"(Wybrano \", ctx_r0.data.data.length, \" z \", ctx_r0.data.length, \" rekord\\u00F3w)\");\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"btn-danger\": a0,\n    \"btn-info\": a1,\n    \"highlighted-button\": a2\n  };\n};\nfunction DataViewerComponent_div_11_ng_container_6_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DataViewerComponent_div_11_ng_container_6_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const idx_r7 = i0.ɵɵnextContext().index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.featureLabels[idx_r7].switchType());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const idx_r7 = i0.ɵɵnextContext().index;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(2, _c0, ctx_r8.featureLabels[idx_r7].isNumeric(), ctx_r8.featureLabels[idx_r7].isCategorical(), ctx_r8.isTypeMismatch(idx_r7)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.featureLabels[idx_r7].caption, \" \");\n  }\n}\nfunction DataViewerComponent_div_11_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, DataViewerComponent_div_11_ng_container_6_button_3_Template, 2, 6, \"button\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const column_r6 = ctx.$implicit;\n    const idx_r7 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", column_r6, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.featureLabels && ctx_r4.featureLabels[idx_r7].featureType != ctx_r4.noneType);\n  }\n}\nfunction DataViewerComponent_div_11_tr_8_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cell_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cell_r16);\n  }\n}\nfunction DataViewerComponent_div_11_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DataViewerComponent_div_11_tr_8_ng_container_3_Template, 3, 1, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    const rowIndex_r14 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rowIndex_r14 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r13);\n  }\n}\nfunction DataViewerComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Row\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, DataViewerComponent_div_11_ng_container_6_Template, 4, 2, \"ng-container\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, DataViewerComponent_div_11_tr_8_Template, 4, 2, \"tr\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.data.columns);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.data.data);\n  }\n}\nfunction DataViewerComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function DataViewerComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.updateData());\n    });\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵtext(2, \"upload\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DataViewerComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"inner-input-invalid\": a0\n  };\n};\nclass DataViewerComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.data = null;\n    this.featureLabels = null;\n    this.noneType = FeatureType.NONE;\n    this.inputValue = new FormControl(''); // Bidirectional binding with row selection input element, stores the current value from input\n    this.lastInputValue = ''; // form controll as string \n    this.inputErrorFlag = false; // If input is incorrect and data not loaded properly, marks input bar as red\n    this.infoText = \"Przykład użycia:\\n1-5, 20-40 (Wiersze 1-5 i 20-40)\\n1-10, 12 (Wiersze 1-10 oraz 12-ty)\\n# (Wszystkie wiersze)\\n\\n \\\r\n                      Domyślnie 100 pierwszych wierszy\";\n  }\n  ngOnInit() {\n    this.loadData();\n    this.inputValue.valueChanges.pipe(distinctUntilChanged() // Tylko unikalne wartości\n    ).subscribe(value => {\n      if (value !== null) {\n        this.onRefresh(value);\n      }\n    });\n  }\n  loadData(selection = \"\") {\n    this.dataService.getData(selection).subscribe({\n      next: data => {\n        this.data = data;\n        this.loadFeatureTypes(data);\n        this.inputErrorFlag = data.error;\n      },\n      error: err => console.error('Error fetching data:', err)\n    });\n  }\n  updateData() {\n    if (this.featureLabels) {\n      this.dataService.updateData(this.featureLabels).subscribe({\n        next: response => {\n          this.loadData(this.lastInputValue);\n        },\n        error: err => console.error('Error fetching data:', err)\n      });\n    }\n  }\n  onRefresh(newValue) {\n    if (newValue !== this.lastInputValue) {\n      this.lastInputValue = newValue;\n      this.loadData(newValue);\n    }\n  }\n  isTypeMismatch(colID) {\n    return this.data != null && this.featureLabels != null && this.featureLabels[colID].featureType != this.data.types[colID];\n  }\n  isDataChanged() {\n    if (this.data != null && this.featureLabels != null) {\n      for (let id = 0; id < this.data.types.length; id++) {\n        if (this.isTypeMismatch(id)) return true;\n      }\n    }\n    return false;\n  }\n  loadFeatureTypes(data) {\n    this.featureLabels = new Array();\n    for (let type of data.types) this.featureLabels.push(new FeatureLabel(type));\n  }\n  static #_ = this.ɵfac = function DataViewerComponent_Factory(t) {\n    return new (t || DataViewerComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DataViewerComponent,\n    selectors: [[\"app-data-viewer\"]],\n    decls: 14,\n    vars: 9,\n    consts: [[1, \"dataVisualizer\"], [1, \"data-header\"], [1, \"title-field\"], [4, \"ngIf\"], [1, \"input-field\"], [1, \"outer-input\"], [\"type\", \"text\", \"placeholder\", \"Podaj zakres danych do wy\\u015Bwietlania\", 1, \"form-control\", \"inner-input\", 3, \"formControl\", \"ngClass\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-place\", \"left\", 1, \"material-symbols-outlined\", \"info-button\", 3, \"title\"], [\"class\", \"dataVisualizerTable\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary save-button\", \"title\", \"Zapisz zmiany\", 3, \"click\", 4, \"ngIf\"], [1, \"dataVisualizerTable\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"class\", \"btn\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", 3, \"ngClass\", \"click\"], [\"type\", \"button\", \"title\", \"Zapisz zmiany\", 1, \"btn\", \"btn-primary\", \"save-button\", 3, \"click\"], [1, \"material-symbols-outlined\", \"save-button-inner\"]],\n    template: function DataViewerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n        i0.ɵɵtext(4, \"Wizualizacja danych\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, DataViewerComponent_h4_5_Template, 2, 2, \"h4\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5);\n        i0.ɵɵelement(8, \"input\", 6);\n        i0.ɵɵelementStart(9, \"button\", 7);\n        i0.ɵɵtext(10, \"info\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(11, DataViewerComponent_div_11_Template, 9, 2, \"div\", 8);\n        i0.ɵɵtemplate(12, DataViewerComponent_button_12_Template, 3, 0, \"button\", 9);\n        i0.ɵɵtemplate(13, DataViewerComponent_div_13_Template, 3, 0, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.data);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formControl\", ctx.inputValue)(\"ngClass\", i0.ɵɵpureFunction1(7, _c1, ctx.inputErrorFlag));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"title\", ctx.infoText);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.data);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isDataChanged());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.data);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlDirective],\n    styles: [\".dataVisualizerTable[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-height: 730px;\\n    overflow-x: auto;\\n    overflow-y: auto;\\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\n    border-radius: 8px;\\n    background-color: #ffffff;\\n}\\n\\n.dataVisualizer[_ngcontent-%COMP%] {\\n    flex-grow: 1;\\n    background-color: #ffffff;\\n    padding: 20px;\\n    border-radius: 8px;\\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\n    margin: 0 20px;\\n}\\n\\n.data-header[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 60px;\\n    margin-bottom: 0px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    background-color: white;\\n}\\n\\n.title-field[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n}\\n\\n.title-field[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n    margin-left: 20px;\\n    padding-top: 8px;\\n    opacity: 60%;\\n}\\n\\n.input-field[_ngcontent-%COMP%] {\\n    padding-right: 15px;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n}\\n\\n.outer-input[_ngcontent-%COMP%] {\\n    position: relative;\\n}\\n\\n.inner-input[_ngcontent-%COMP%] {\\n    width: 350px;\\n    height: 35px;\\n    margin-right: 25px;\\n    padding: 12px;\\n    \\n}\\n\\n.inner-input-invalid[_ngcontent-%COMP%] {\\n    border: 2px solid red;\\n    outline: none;\\n}\\n\\n\\n\\n.info-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 25%;\\n    right: 25px; \\n    transform: translateY(-50%);\\n    font-size: 18px;\\n    outline: none;\\n    color: gray;\\n    border: none;\\n    background: none;\\n    cursor: pointer;\\n}\\n.info-button[_ngcontent-%COMP%]:hover {\\n    color: rgb(139, 189, 202);\\n}\\n\\n.refresh-button[_ngcontent-%COMP%] {\\n    width: 40px;\\n    height: 40px;\\n    font-size: 15px;\\n    border-radius: 50%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    outline: none;\\n    box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.2);\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n    width: 100%;\\n    min-width: 100%;\\n    border-collapse: collapse;\\n    margin: 0 0 10px 0;\\n}\\n\\nthead[_ngcontent-%COMP%] {\\n    position: sticky;\\n    top: 0px;\\n    z-index: 1;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n    border: 1px solid #e3e6f0;\\n    padding: 12px;\\n    text-align: left;\\n    white-space: nowrap;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n    background-color: #0056b3;\\n    color: white;\\n    font-size: 16px;\\n}\\n\\nth[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 0px 6px;\\n    margin-left: 10px;\\n    margin-bottom: 2px;\\n    font-weight: bold;\\n}\\n\\n.highlighted-button[_ngcontent-%COMP%] {\\n    box-shadow: 0px 0px 16px rgb(255, 217, 0);\\n}\\n\\ntbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd) {\\n    background-color: #f4f4f4;\\n}\\n\\ntbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #ffffff;\\n}\\n\\n.save-button[_ngcontent-%COMP%] {\\n    padding: 5px 5px 0 5px;\\n    position: absolute;\\n    right: 30px;\\n    bottom: 20px;\\n    border-width: 4px;\\n    border-style: groove;\\n    border-color: #003670;\\n    box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);\\n}\\n\\n.save-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    font-size: 60px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGF0YS12aWV3ZXIvZGF0YS12aWV3ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixxQ0FBcUM7SUFDckMsa0JBQWtCO0lBQ2xCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixxQ0FBcUM7SUFDckMsY0FBYztBQUNsQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGFBQWE7O0FBRWpCOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGFBQWE7QUFDakI7O0FBRUEsc0JBQXNCO0FBQ3RCO0lBQ0ksa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixXQUFXO0lBQ1gsMkJBQTJCO0lBQzNCLGVBQWU7SUFDZixhQUFhO0lBQ2IsV0FBVztJQUNYLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYiwwQ0FBMEM7QUFDOUM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLHlCQUF5QjtJQUN6QixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsUUFBUTtJQUNSLFVBQVU7QUFDZDs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHlDQUF5QztBQUM3Qzs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLHFCQUFxQjtJQUNyQiwwQ0FBMEM7QUFDOUM7O0FBRUE7SUFDSSxlQUFlO0FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiLmRhdGFWaXN1YWxpemVyVGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtaGVpZ2h0OiA3MzBweDtcclxuICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi5kYXRhVmlzdWFsaXplciB7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsMCwwLDAuMSk7XHJcbiAgICBtYXJnaW46IDAgMjBweDtcclxufVxyXG5cclxuLmRhdGEtaGVhZGVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi50aXRsZS1maWVsZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50aXRsZS1maWVsZCBoNCB7XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIHBhZGRpbmctdG9wOiA4cHg7XHJcbiAgICBvcGFjaXR5OiA2MCU7XHJcbn1cclxuXHJcbi5pbnB1dC1maWVsZCB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4ub3V0ZXItaW5wdXQge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uaW5uZXItaW5wdXQge1xyXG4gICAgd2lkdGg6IDM1MHB4O1xyXG4gICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICAgIFxyXG59XHJcblxyXG4uaW5uZXItaW5wdXQtaW52YWxpZCB7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4vKiBTcGVjaWFsaXplZCBzdHlsZSAqL1xyXG4uaW5mby1idXR0b24ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAyNSU7XHJcbiAgICByaWdodDogMjVweDsgXHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgY29sb3I6IGdyYXk7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcbi5pbmZvLWJ1dHRvbjpob3ZlciB7XHJcbiAgICBjb2xvcjogcmdiKDEzOSwgMTg5LCAyMDIpO1xyXG59XHJcblxyXG4ucmVmcmVzaC1idXR0b24ge1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGJveC1zaGFkb3c6IDNweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxufVxyXG5cclxudGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtaW4td2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgbWFyZ2luOiAwIDAgMTBweCAwO1xyXG59XHJcblxyXG50aGVhZCB7XHJcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG50aCwgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2UzZTZmMDtcclxuICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxufVxyXG5cclxudGgge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxudGggYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDBweCA2cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDJweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uaGlnaGxpZ2h0ZWQtYnV0dG9uIHtcclxuICAgIGJveC1zaGFkb3c6IDBweCAwcHggMTZweCByZ2IoMjU1LCAyMTcsIDApO1xyXG59XHJcblxyXG50Ym9keSB0cjpudGgtY2hpbGQob2RkKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xyXG59XHJcblxyXG50Ym9keSB0cjpudGgtY2hpbGQoZXZlbikge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnNhdmUtYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDVweCA1cHggMCA1cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMzBweDtcclxuICAgIGJvdHRvbTogMjBweDtcclxuICAgIGJvcmRlci13aWR0aDogNHB4O1xyXG4gICAgYm9yZGVyLXN0eWxlOiBncm9vdmU7XHJcbiAgICBib3JkZXItY29sb3I6ICMwMDM2NzA7XHJcbiAgICBib3gtc2hhZG93OiAzcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbn1cclxuXHJcbi5zYXZlLWJ1dHRvbiBkaXYge1xyXG4gICAgZm9udC1zaXplOiA2MHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { DataViewerComponent };","map":{"version":3,"names":["FeatureType","FeatureLabel","distinctUntilChanged","FormControl","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","ctx_r0","data","length","ɵɵlistener","DataViewerComponent_div_11_ng_container_6_button_3_Template_button_click_0_listener","ɵɵrestoreView","_r10","idx_r7","ɵɵnextContext","index","ctx_r9","ɵɵresetView","featureLabels","switchType","ɵɵproperty","ɵɵpureFunction3","_c0","ctx_r8","isNumeric","isCategorical","isTypeMismatch","ɵɵtextInterpolate1","caption","ɵɵelementContainerStart","ɵɵtemplate","DataViewerComponent_div_11_ng_container_6_button_3_Template","ɵɵelementContainerEnd","column_r6","ctx_r4","featureType","noneType","ɵɵtextInterpolate","cell_r16","DataViewerComponent_div_11_tr_8_ng_container_3_Template","rowIndex_r14","row_r13","DataViewerComponent_div_11_ng_container_6_Template","DataViewerComponent_div_11_tr_8_Template","ctx_r1","columns","DataViewerComponent_button_12_Template_button_click_0_listener","_r19","ctx_r18","updateData","DataViewerComponent","constructor","dataService","NONE","inputValue","lastInputValue","inputErrorFlag","infoText","ngOnInit","loadData","valueChanges","pipe","subscribe","value","onRefresh","selection","getData","next","loadFeatureTypes","error","err","console","response","newValue","colID","types","isDataChanged","id","Array","type","push","_","ɵɵdirectiveInject","i1","DataService","_2","selectors","decls","vars","consts","template","DataViewerComponent_Template","rf","ctx","DataViewerComponent_h4_5_Template","ɵɵelement","DataViewerComponent_div_11_Template","DataViewerComponent_button_12_Template","DataViewerComponent_div_13_Template","ɵɵpureFunction1","_c1"],"sources":["C:\\Users\\cppon\\OneDrive\\Pulpit\\io_zadanie\\Frontend\\IO-2024\\frontend\\src\\app\\data-viewer\\data-viewer.component.ts","C:\\Users\\cppon\\OneDrive\\Pulpit\\io_zadanie\\Frontend\\IO-2024\\frontend\\src\\app\\data-viewer\\data-viewer.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { DataService } from '../data.service';\r\nimport { DataVisualization } from '../models/data.model';\r\nimport { FeatureType, FeatureLabel } from '../models/feature-types';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { FormControl } from '@angular/forms';\r\n@Component({\r\n  selector: 'app-data-viewer',\r\n  templateUrl: './data-viewer.component.html',\r\n  styleUrls: ['./data-viewer.component.css']\r\n})\r\nexport class DataViewerComponent {\r\n  data: DataVisualization | null = null;\r\n\r\n  featureLabels: FeatureLabel[] | null = null;\r\n  noneType = FeatureType.NONE;\r\n\r\n  inputValue = new FormControl('');          // Bidirectional binding with row selection input element, stores the current value from input\r\n  lastInputValue: string = ''; // form controll as string \r\n  inputErrorFlag: boolean = false;  // If input is incorrect and data not loaded properly, marks input bar as red\r\n  \r\n  infoText: string = \"Przykład użycia:\\n1-5, 20-40 (Wiersze 1-5 i 20-40)\\n1-10, 12 (Wiersze 1-10 oraz 12-ty)\\n# (Wszystkie wiersze)\\n\\n \\\r\n                      Domyślnie 100 pierwszych wierszy\";\r\n\r\n  constructor(private dataService: DataService) { }\r\n\r\n  ngOnInit() {\r\n    this.loadData();\r\n\r\n    this.inputValue.valueChanges.pipe(\r\n      distinctUntilChanged() // Tylko unikalne wartości\r\n    ).subscribe(value => {\r\n      if (value !== null) {\r\n        this.onRefresh(value);\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  loadData(selection: string = \"\") : void {\r\n    this.dataService.getData(selection).subscribe({\r\n      next: (data) => {\r\n        this.data = data;\r\n        this.loadFeatureTypes(data);\r\n        this.inputErrorFlag = data.error;\r\n      },\r\n      error: (err) => console.error('Error fetching data:', err),\r\n    });\r\n  }\r\n\r\n  updateData() : void {\r\n    if (this.featureLabels) {\r\n      this.dataService.updateData(this.featureLabels).subscribe({\r\n        next: (response) => {\r\n          this.loadData(this.lastInputValue);\r\n        },\r\n        error: (err) => console.error('Error fetching data:', err)\r\n      })\r\n    }\r\n  }\r\n\r\n  onRefresh(newValue: string) : void {\r\n    if (newValue !== this.lastInputValue) {\r\n      this.lastInputValue = newValue;\r\n      this.loadData(newValue);\r\n     \r\n    }\r\n    \r\n  }\r\n\r\n  isTypeMismatch(colID : number) : boolean {\r\n    return this.data != null && this.featureLabels != null && this.featureLabels[colID].featureType != <FeatureType>this.data.types[colID];\r\n  }\r\n\r\n  isDataChanged() : boolean {\r\n    if (this.data != null && this.featureLabels != null) {\r\n      for (let id = 0; id < this.data.types.length; id++) {\r\n        if (this.isTypeMismatch(id))\r\n          return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private loadFeatureTypes(data: DataVisualization) : void {\r\n    this.featureLabels = new Array<FeatureLabel>();\r\n    for (let type of data.types)\r\n      this.featureLabels.push(new FeatureLabel(<FeatureType>type));\r\n  }\r\n  \r\n}\r\n","<div class=\"dataVisualizer\">\r\n    <div class=\"data-header\">\r\n        <div class=\"title-field\">\r\n            <h1>Wizualizacja danych</h1>\r\n            <h4 *ngIf=\"data\">(Wybrano {{data.data.length}} z {{data.length}} rekordów)</h4>\r\n        </div>\r\n        <div class=\"input-field\">\r\n            <div class=\"outer-input\">\r\n              <input type=\"text\" [formControl]=\"inputValue\" placeholder=\"Podaj zakres danych do wyświetlania\"\r\n                class=\"form-control inner-input\" [ngClass]=\"{'inner-input-invalid': inputErrorFlag}\">\r\n              <button type=\"button\" class=\"material-symbols-outlined info-button\" data-toggle=\"tooltip\" data-place=\"left\"\r\n                [title]=\"infoText\">info</button>\r\n            </div>\r\n            <!-- <button type=\"button\" class=\"btn btn-primary material-symbols-outlined refresh-button\" (click)=\"onRefresh()\">\r\n              <div class=\"material-symbols-outlined\">refresh</div>\r\n            </button> -->\r\n          </div>\r\n    </div>\r\n    <div *ngIf=\"data\" class=\"dataVisualizerTable\">\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Row</th>\r\n                    <ng-container *ngFor=\"let column of data.columns; let idx = index\">\r\n                        <th>\r\n                            {{ column }}\r\n                            <button *ngIf=\"featureLabels && featureLabels[idx].featureType != noneType\" type=\"button\" class=\"btn\" \r\n                                [ngClass]=\"{'btn-danger': featureLabels[idx].isNumeric(), 'btn-info': featureLabels[idx].isCategorical(),\r\n                                             'highlighted-button': isTypeMismatch(idx)}\"\r\n                                (click)=\"featureLabels[idx].switchType()\">\r\n                                {{featureLabels[idx].caption}}\r\n                            </button>\r\n                        </th>\r\n                    </ng-container>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let row of data.data; let rowIndex = index\">\r\n                    <td>{{ rowIndex + 1 }}</td>\r\n                    <ng-container *ngFor=\"let cell of row; let cellIndex = index\">\r\n                        <td>{{ cell }}</td>\r\n                    </ng-container>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <button *ngIf=\"isDataChanged()\" (click)=\"updateData()\" type=\"button\" class=\"btn btn-primary save-button\" title=\"Zapisz zmiany\">\r\n        <div class=\"material-symbols-outlined save-button-inner\">upload</div>\r\n    </button>\r\n    <div *ngIf=\"!data\">\r\n        <p>Loading...</p>\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}